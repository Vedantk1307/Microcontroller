#include "DHT.h"

#define DHTPIN 2
#define DHTTYPE DHT11 

#define BLYNK_TEMPLATE_ID "TMPL3kwpSxTwe"
#define BLYNK_TEMPLATE_NAME "IOT LED"
#define BLYNK_AUTH_TOKEN "aWsRqnkanCwSkdYyQwwD9DQYUPfu7Nys"

#include <WiFi.h>
#include <WiFiClient.h>
#include <BlynkSimpleEsp32.h>

DHT dht(DHTPIN, DHTTYPE);

char ssid[] = "HX";
char pass[] = "********";

void setup()
{
  Serial.begin(9600);
  Blynk.begin(BLYNK_AUTH_TOKEN, ssid, pass);
  dht.begin();
}

void loop()
{
  Blynk.run();
  
  float h = dht.readHumidity();
  float t = dht.readTemperature();  // Celsius

 // Check if any reads failed
 

 Serial.print("Humidity: "); Serial.print(h);
  Serial.print(" %  Temperature: "); Serial.print(t); Serial.println(" *C");

  Blynk.virtualWrite(V0, h);  // Send Humidity to V0
  Blynk.virtualWrite(V1, t);  // Send Temperature to V1
  
  delay(2000); // DHT11 needs ~1-2 seconds delay
}